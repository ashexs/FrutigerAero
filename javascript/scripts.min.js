function setSessionStorage(t,e){sessionStorage.setItem(t,e)}function getSessionStorage(t){return sessionStorage.getItem(t)}function setActiveButton(t,e){SOUND_ON_BUTTON&&(t.setAttribute("class","settings-buttons button-links-active"),e.forEach(t=>t.setAttribute("class","settings-buttons button-links-inactive")))}function overflowScrolling(){const t=MUSIC_INNER_TEXT_DIV.scrollWidth>MUSIC_TEXT_DIV.clientWidth;t?MUSIC_INNER_TEXT_DIV.classList.add("scrolling"):MUSIC_INNER_TEXT_DIV.classList.remove("scrolling")}function musicBarHide(){if(!isMusicBarVisible)return;isMusicBarVisible=!1;let t=1;MUSIC_BAR.style.opacity=t;let e=setInterval(()=>{t<=0&&(clearInterval(e),MUSIC_BAR.style.visibility="hidden",MUSIC_BAR.style.display="none"),t-=.5,MUSIC_BAR.style.opacity=t,MUSIC_BAR.style.filter="alpha(opacity="+100*t+")"},50)}function musicBarShow(){if(isMusicBarVisible)return;isMusicBarVisible=!0,MUSIC_BAR.style.display="flex",MUSIC_BAR.style.visibility="visible";let t=0;MUSIC_BAR.style.opacity=t;let e=setInterval(()=>{t>=1&&clearInterval(e),t+=.5,MUSIC_BAR.style.opacity=t,MUSIC_BAR.style.filter="alpha(opacity="+100*t+")"},50)}function setActiveSound(t,e,n){SOUND_ON_BUTTON&&(t.setAttribute("class","settings-buttons button-links-active"),e.setAttribute("class","settings-buttons button-links-inactive"),sound_on=n)}function loadSong(t){let e=playlist[t];background_music.src=e.src,SONG_TITLE.textContent=e.title,SONG_ARTIST.textContent=e.artist}function nextSong(){currentSongIndex=(currentSongIndex+1)%playlist.length,loadSong(currentSongIndex),music_playing&&background_music.play(),overflowScrolling()}function prevSong(){currentSongIndex=(currentSongIndex-1+playlist.length)%playlist.length,loadSong(currentSongIndex),music_playing&&background_music.play(),overflowScrolling()}function musicOff(){MUSIC_TOGGLE_IMAGE.src="/images/music_off.svg",MUSIC_TOGGLE_BUTTON.setAttribute("class","button-links-inactive"),music_playing=!1,background_music.pause(),overflowScrolling(),setSessionStorage("music","off")}function musicOn(){MUSIC_TOGGLE_IMAGE.src="/images/music_on.svg",MUSIC_TOGGLE_BUTTON.setAttribute("class","button-links-active"),music_playing=!0,background_music.play(),overflowScrolling(),setSessionStorage("music","on")}const SOUND_ON_BUTTON=document.getElementById("soundsOn"),SOUND_OFF_BUTTON=document.getElementById("soundsOff"),MUSIC_BAR=document.getElementById("musicBar"),MUSIC_TOGGLE_BUTTON=document.getElementById("musicToggle"),MUSIC_TOGGLE_IMAGE=document.getElementById("musicToggleImg"),SONG_TITLE=document.getElementById("songTitle"),SONG_ARTIST=document.getElementById("songArtist"),MUSIC_TEXT_DIV=document.querySelector(".music-text-div"),MUSIC_INNER_TEXT_DIV=document.querySelector(".music-inner-text"),TEXT_SMALL_BUTTON=document.getElementById("small"),TEXT_MEDIUM_BUTTON=document.getElementById("medium"),TEXT_LARGE_BUTTON=document.getElementById("large");let font_size="1em",sound_on=!1,music_playing=!1,isMusicBarVisible=!1;window.addEventListener("load",()=>{setTimeout(overflowScrolling,0)}),window.addEventListener("resize",overflowScrolling),SOUND_ON_BUTTON&&SOUND_ON_BUTTON.addEventListener("click",()=>{setActiveSound(SOUND_ON_BUTTON,SOUND_OFF_BUTTON,!0),musicBarShow(),setSessionStorage("sound","on")}),SOUND_OFF_BUTTON&&SOUND_OFF_BUTTON.addEventListener("click",()=>{setActiveSound(SOUND_OFF_BUTTON,SOUND_ON_BUTTON,!1),musicBarHide(),setSessionStorage("sound","off"),musicOff()}),window.addEventListener("load",()=>{let t=getSessionStorage("sound");"on"===t?(MUSIC_BAR.style.display="flex",isMusicBarVisible=!0,overflowScrolling()):"off"===t&&(MUSIC_BAR.style.display="none",isMusicBarVisible=!1,overflowScrolling()),SOUND_ON_BUTTON&&SOUND_OFF_BUTTON&&("on"===t?setActiveSound(SOUND_ON_BUTTON,SOUND_OFF_BUTTON,!0):"off"===t&&setActiveSound(SOUND_OFF_BUTTON,SOUND_ON_BUTTON,!1))});const NEXT_BUTTON=document.getElementById("nextButton"),PREV_BUTTON=document.getElementById("prevButton");let playlist=[{src:"../sounds/music/song_1.mp3",title:"Song One —",artist:"Artist One"},{src:"../sounds/music/song_2.mp3",title:"Song Two —",artist:"Artist Two"},{src:"../sounds/music/song_3.mp3",title:"Song Three —",artist:"Artist Three"}],currentSongIndex=0,background_music=new Audio;background_music.addEventListener("ended",nextSong,overflowScrolling),MUSIC_TOGGLE_BUTTON.addEventListener("click",()=>{music_playing?musicOff():musicOn()}),background_music.addEventListener("timeupdate",()=>{sessionStorage.setItem("music_time",background_music.currentTime)}),window.addEventListener("load",()=>{let t=getSessionStorage("music"),e=sessionStorage.getItem("music_time");loadSong(currentSongIndex),e&&(background_music.currentTime=parseFloat(e)),"on"===t?musicOn():"off"===t&&musicOff();let n=getSessionStorage("font_size"),s=getSessionStorage("active_button");if(n&&s)switch(document.body.style.fontSize=n,s){case"small":setActiveButton(TEXT_SMALL_BUTTON,[TEXT_MEDIUM_BUTTON,TEXT_LARGE_BUTTON]);break;case"medium":setActiveButton(TEXT_MEDIUM_BUTTON,[TEXT_SMALL_BUTTON,TEXT_LARGE_BUTTON]);break;case"large":setActiveButton(TEXT_LARGE_BUTTON,[TEXT_SMALL_BUTTON,TEXT_MEDIUM_BUTTON])}}),TEXT_SMALL_BUTTON&&TEXT_SMALL_BUTTON.addEventListener("click",function(){setActiveButton(TEXT_SMALL_BUTTON,[TEXT_MEDIUM_BUTTON,TEXT_LARGE_BUTTON]),font_size="0.9em",document.body.style.fontSize=font_size,setSessionStorage("font_size",font_size),setSessionStorage("active_button","small")}),TEXT_MEDIUM_BUTTON&&TEXT_MEDIUM_BUTTON.addEventListener("click",function(){setActiveButton(TEXT_MEDIUM_BUTTON,[TEXT_SMALL_BUTTON,TEXT_LARGE_BUTTON]),font_size="1em",document.body.style.fontSize=font_size,setSessionStorage("font_size",font_size),setSessionStorage("active_button","medium")}),TEXT_LARGE_BUTTON&&TEXT_LARGE_BUTTON.addEventListener("click",function(){setActiveButton(TEXT_LARGE_BUTTON,[TEXT_SMALL_BUTTON,TEXT_MEDIUM_BUTTON]),font_size="1.1em",document.body.style.fontSize=font_size,setSessionStorage("font_size",font_size),setSessionStorage("active_button","large")});